(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var e,g="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},k=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");},l=k(this),m;
if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var p={L:!0},q={};try{q.__proto__=p;n=q.L;break a}catch(a){}n=!1}m=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r=m;var t="abort canplay canplaythrough durationchange emptied ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u={".avi":1,".m4v":1,".mp4":1,".mpeg":1,".mpg":1,".ogg":1,".ogv":1,".qt":1,".webm":1,".wmv":1};var v=function(a,b){window.setTimeout(a,b)};var w=function(a,b,c){c=void 0===c?null:c;var d=document.createEvent("CustomEvent");d.initCustomEvent(a,!0,!0,c);b.dispatchEvent(d)},x=function(a,b){var c=function(d){a.removeEventListener("playing",c);b(d)};a.addEventListener("playing",c)};var z=function(a){if(!a.gwdIsLoaded()){var b=y(a);b?b.gwdIsLoaded()&&a.gwdLoad():a.gwdLoad()}},A=function(a){if(!a.gwdIsActive()){var b=y(a);b?b.gwdIsActive()&&a.gwdActivate():a.gwdActivate()}},B=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},y=function(a){if(B(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&B(a))return a;return null},C=function(a){for(var b=[];a;)b.unshift(a),a=a.parentNode;return b},D=function(a,b,c){a.hasAttribute(b)?(a=a.getAttribute(b),
c.setAttribute(b,a)):c.removeAttribute(b)};var E={I:"fullscreenchange",J:"mozfullscreenchange",K:"webkitfullscreenchange"},F={I:"fullscreenElement",J:"mozFullScreenElement",K:"webkitFullscreenElement"},G=function(a){for(var b,c=Object.keys(F),d=0;d<c.length&&(b=a[F[c[d]]],void 0===b);d++);return b||null},H=function(a){var b=document;this.j="has-fullscreen-gwd-video";this.b=b;this.g=a;this.A=this.O.bind(this)};
H.prototype.O=function(){var a=G(this.b);if(a)if(this.g==a){var b=this.b;for(a=this.g;a&&a!=b;a=a.parentNode)a.classList.add(this.j)}else if(a.classList.contains(this.j)){b=C(this.g);a=C(a);for(var c=0,d=b[0],f=a[0],h=null;d&&f&&d==f;)h=d,c++,d=b[c],f=a[c];I(this,h)}else I(this);else I(this)};var I=function(a,b){b=(void 0===b?null:b)||a.b;for(var c=a.g;c&&c!=b;c=c.parentNode)c.classList.remove(a.j)};
H.prototype.install=function(){for(var a=Object.keys(E),b=0;b<a.length;b++)this.b.addEventListener(E[a[b]],this.A)};var J=Object.keys(HTMLMediaElement.prototype).concat(Object.keys(HTMLVideoElement.prototype)).concat(["sources"]),K=function(){var a=HTMLElement.call(this)||this;a.a=a.ownerDocument.createElement("video");a.a.setAttribute("webkit-playsinline","");a.a.setAttribute("playsinline","");a.a.setAttribute("x-webkit-airplay","allow");a.v=function(b){w(b.type,a,b.detail)};a.H=a.M.bind(a);a.B=new H(a.a);a.c=!1;a.f=null;a.i=null;a.interactiveVideoComponents=[];a.N=function(){for(var b=0;b<a.interactiveVideoComponents.length;b++)a.interactiveVideoComponents[b].handleVideoTimeUpdate()};
a.G=function(){a.f||(a.f=window.setInterval(a.N,33))};a.h=function(){a.f&&(window.clearInterval(a.f),a.f=null)};a.F=null;a.D=null;a.s=function(){if(a.parentElement){var b=a.getBoundingClientRect();if(b.width!=a.F||b.height!=a.D)for(a.F=b.width,a.D=b.height,b=0;b<a.interactiveVideoComponents.length;b++)a.interactiveVideoComponents[b].resizeHandlerNeeded&&a.interactiveVideoComponents[b].resize()}};a.P=function(){a.i||(a.i=window.setInterval(a.s,250))};a.R=function(){a.i&&window.clearInterval(a.i)};
a.m=!1;a.l=!1;a.C=!1;a.u=1;a.o=!1;return a},L=HTMLElement;K.prototype=g(L.prototype);K.prototype.constructor=K;if(r)r(K,L);else for(var M in L)if("prototype"!=M)if(Object.defineProperties){var N=Object.getOwnPropertyDescriptor(L,M);N&&Object.defineProperty(K,M,N)}else K[M]=L[M];e=K.prototype;
e.connectedCallback=function(){var a=this;if(!this.C){for(var b=0;b<this.children.length;b++){var c=this.children[b];if(c.classList.contains("intermediate-element")){this.removeChild(c);break}}this.c=this.muted&&-1!=(window.navigator.userAgent||"").indexOf("Android");b=this.ownerDocument.createElement("div");b.classList.add("intermediate-element");b.appendChild(this.a);this.appendChild(b);this.C=!0}z(this);A(this);this.c&&x(this.a,function(){a.c&&(a.a.volume=0)});this.a.addEventListener("volumechange",
this.H,!1);for(b=0;b<t.length;b++)this.a.addEventListener(t[b],this.v,!1);this.B.install();this.a.addEventListener("play",this.G,!1);this.a.addEventListener("pause",this.h,!1);this.a.addEventListener("ended",this.h,!1)};
e.disconnectedCallback=function(){for(var a=this.B,b=Object.keys(E),c=0;c<b.length;c++)a.b.removeEventListener(E[b[c]],a.A);b=G(a.b);a.g==b&&I(a);this.c&&(this.a.volume=1);this.a.removeEventListener("volumechange",this.H,!1);for(a=0;a<t.length;a++)this.a.removeEventListener(t[a],this.v,!1);this.h();this.a.removeEventListener("play",this.G,!1);this.a.removeEventListener("pause",this.h,!1);this.a.removeEventListener("ended",this.h,!1)};
e.setResizeObserver=function(){for(var a=!1,b=0;b<this.interactiveVideoComponents.length;b++)if(this.interactiveVideoComponents[b].resizeHandlerNeeded){a=!0;break}a?(this.P(),window.addEventListener("resize",this.s,!1)):(this.R(),window.removeEventListener("resize",this.s,!1))};
e.attributeChangedCallback=function(a){var b=this;if("sources"==a){if(this.m){var c=this.a.paused,d=this.muted;O(this);this.a.load();v(function(){b.muted=d;c?b.pause():b.play()},0)}}else"muted"==a&&(this.a.muted=this.muted);D(this,a,this.a)};e.gwdActivate=function(){var a=this;this.autoplay&&this.a.paused&&v(function(){if(2<=a.a.readyState)a.play();else{var b=function(){2<=a.a.readyState&&(a.a.removeEventListener("loadeddata",b),a.play())};a.a.addEventListener("loadeddata",b)}},200);this.l=!0};
e.gwdDeactivate=function(){this.hasAttribute("resumable")||this.seek(0);this.pause();this.l=!1};e.gwdIsActive=function(){return this.l};e.gwdLoad=function(){O(this);this.m=!0;w("ready",this)};e.gwdIsLoaded=function(){return this.m};e.play=function(){this.a.play()};e.pause=function(){this.a.pause()};e.mute=function(){this.c&&(this.a.volume=1);this.c=!1;this.muted=!this.muted};e.replay=function(){this.seek(0);this.play()};e.seek=function(a){this.currentTime!=a&&(this.currentTime=a)};
e.M=function(){0==this.o&&1==this.muted&&0==this.u&&(this.a.volume=1,this.muted=!1);this.u=this.a.volume;this.o=this.muted};e.setVolume=function(a){this.muted=0<a?!1:!0;this.a.volume=a/100;this.u=this.a.volume;this.o=this.muted};e.setSources=function(a){this.setAttribute("sources",a)};
var O=function(a){var b=a.getAttribute("sources");b=P(b);for(var c=a.a.children,d=c.length-1;0<=d;d--){var f=c[d];"source"==f.tagName.toLowerCase()&&a.a.removeChild(f)}for(c=0;c<b.length;c++)d=a.ownerDocument.createElement("source"),f=b[c],f=f.trim(),f=window.Enabler?window.Enabler.getUrl(f):f,d.src=f,a.a.appendChild(d)},P=function(a){var b=[];if(!a)return b;a=a.split(",").map(function(Q){return Q.trim()});for(var c="",d=0;d<a.length;d++){var f=a[d];c+=f;var h=f.lastIndexOf(".");-1!=h?u[f.substring(h).toLowerCase()]?
(b.push(c),c=""):c+=",":c+=","}c&&b.push(c.substring(0,c.length-1));return b};
l.Object.defineProperties(K.prototype,{nativeElement:{configurable:!0,enumerable:!0,get:function(){return this.a}},autoplay:{configurable:!0,enumerable:!0,get:function(){return this.a.autoplay},set:function(a){a?this.setAttribute("autoplay",""):this.removeAttribute("autoplay")}},loop:{configurable:!0,enumerable:!0,get:function(){return this.a.loop},set:function(a){a?this.setAttribute("loop",""):this.removeAttribute("loop")}},muted:{configurable:!0,enumerable:!0,get:function(){return this.hasAttribute("muted")},
set:function(a){a?this.setAttribute("muted",""):this.removeAttribute("muted")}},controls:{configurable:!0,enumerable:!0,get:function(){return this.a.controls},set:function(a){a?this.setAttribute("controls",""):this.removeAttribute("controls")}},poster:{configurable:!0,enumerable:!0,get:function(){return this.a.poster},set:function(a){a?this.setAttribute("poster",a):this.removeAttribute("poster")}},paused:{configurable:!0,enumerable:!0,get:function(){return this.a.paused}},volume:{configurable:!0,
enumerable:!0,get:function(){return this.a.volume},set:function(a){this.a.volume=a}},currentTime:{configurable:!0,enumerable:!0,get:function(){return this.a.currentTime},set:function(a){this.a.currentTime=a}},duration:{configurable:!0,enumerable:!0,get:function(){return this.a.duration}},width:{configurable:!0,enumerable:!0,get:function(){return this.a.width},set:function(a){a&&(this.a.width=a)}},height:{configurable:!0,enumerable:!0,get:function(){return this.a.height},set:function(a){a&&(this.a.height=
a)}},videoWidth:{configurable:!0,enumerable:!0,get:function(){return this.a.videoWidth}},videoHeight:{configurable:!0,enumerable:!0,get:function(){return this.a.videoHeight}}});l.Object.defineProperties(K,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return J}}});customElements.define("gwd-video",K);}).call(this);
