(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var l,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ba(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var ca=ba(this),q;
if("function"==typeof Object.setPrototypeOf)q=Object.setPrototypeOf;else{var t;a:{var da={a:!0},v={};try{v.__proto__=da;t=v.a;break a}catch(a){}t=!1}q=t?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var w=q;var ea={C:0,D:0,F:0,G:0,H:"#fff",I:"#fff",J:0,v:0,m:0,K:"0px",L:"0px",M:"0px",N:"0px",loop:!1,O:0,P:1,R:1,S:0,T:!1,shape:"square",V:1,W:1,X:0,Y:0,s:0,u:0,da:"",U:!1,B:1,Z:0,l:1,$:1},fa={C:0,D:0,F:280,G:260,H:"#fff",I:"#fff",J:0,v:.005,m:2,K:"100%",L:"0%",M:"10%",N:"0%",loop:!0,O:0,P:1,R:.1,S:0,T:!0,shape:"circle",V:12,W:8,X:0,Y:0,s:2,u:1,da:"",U:!1,B:1,Z:0,l:1,$:1},ha={C:0,D:.6,F:271,G:269,H:"#fff",I:"#fff",J:0,v:.01,m:2,K:"100%",L:"0%",M:"10%",N:"0%",loop:!0,O:0,P:1,R:.5,S:0,T:!0,shape:"line",V:25,
W:10,X:0,Y:100,s:10,u:8,da:"",U:!1,B:1,Z:0,l:1,$:1},ia={C:0,D:.6,F:100,G:80,H:"#ffdc00",I:"#dc000a",J:1.2,v:0,m:1,K:"20px",L:"10px",M:"40px",N:"35px",loop:!0,O:10,P:.3,R:.1,S:-.3,T:!1,shape:"teardrop",V:20,W:20,X:-30,Y:100,s:1,u:.5,da:"",U:!0,B:20,Z:.18,l:1,$:30},ja={C:0,D:.6,F:100,G:80,H:"#ffdc00",I:"#dc000a",J:1,v:0,m:2,K:"50px",L:"20px",M:"100px",N:"95px",loop:!0,O:15,P:.3,R:.1,S:-.3,T:!1,shape:"teardrop",V:40,W:40,X:-30,Y:100,s:2,u:1,da:"",U:!0,B:20,Z:.18,l:1,$:30},ka={C:0,D:.6,F:100,G:80,H:"#ffdc00",
I:"#dc000a",J:.8,v:0,m:4,K:"80px",L:"30px",M:"180px",N:"175px",loop:!0,O:15,P:.3,R:.1,S:-.3,T:!1,shape:"teardrop",V:100,W:100,X:-54,Y:100,s:3,u:2,da:"",U:!0,B:20,Z:.18,l:1,$:25},la={C:0,D:0,F:90,G:90,H:"#dcdcdc",I:"#dcdcdc",J:0,v:0,m:25,K:"22px",L:"10px",M:"120px",N:"100px",loop:!0,O:8,P:.03,R:.03,S:-.018,T:!0,shape:"teardrop",V:15,W:15,X:-.06,Y:100,s:1,u:.8,da:"",U:!0,B:60,Z:.6,l:.5,$:40},ma={C:0,D:.06,F:100,G:80,H:"#dcdcdc",I:"#dcdcdc",J:0,v:0,m:2,K:"35px",L:"10px",M:"150px",N:"148px",loop:!0,O:300,
P:.1,R:.1,S:-.03,T:!0,shape:"circle",V:20,W:10,X:-1.2,Y:100,s:.8,u:.8,da:"",U:!0,B:10,Z:0,l:.5,$:1};function x(a,b,d){a=parseInt(a.getAttribute(b),10);isNaN(a)&&(a=d);return a}function B(a,b,d){a=x(a,b,d);return 0<a?a:d}function C(a,b,d){a=parseFloat(a.getAttribute(b));isFinite(a)||(a=d);return a}function D(a,b,d){return a.hasAttribute(b)?a.getAttribute(b):d}function E(a,b,d){switch(a.getAttribute(b)){case "true":return!0;case "false":return!1;default:return d}};var na=/[^\d]+$/;function F(a,b,d,c){if(!a.hasAttribute(b))return d;a=a.getAttribute(b);return isNaN(parseFloat(a))?d:H(a,c)}function H(a,b){var d=parseFloat(a);(a=(a=a.match(na))&&a[0]||null)&&(a=a.trim());var c=d;"%"==a&&(c=Number((d/100*b).toFixed(2)));return c};var oa=/^#(?:[0-9a-f]{3}){1,2}$/i,pa=/#(.)(.)(.)/,I=[60,6E3];function J(a){if(!oa.test(a))return null;4==a.length&&(a=a.replace(pa,"#$1$1$2$2$3$3"));a=a.toLowerCase();a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]}function K(a,b,d,c,f){b=C(a,b,c);a=C(a,d,f);b>a&&(d=b,b=a,a=d);return[b,a]}
function qa(a){switch(a){case "snow":return fa;case "rain":return ha;case "fire-small":return ia;case "fire-medium":return ja;case "fire-large":return ka;case "steam":return la;case "smoke":return ma;default:return ea}}function L(a,b,d,c,f,e){b=F(a,b,c,e);a=F(a,d,f,e);b>a&&(d=b,b=a,a=d);return[b,a]};function M(a,b,d){return a+d*(b-a)}function P(a){return a*a*a*(a*(6*a-15)+10)}function Q(a,b,d,c){switch(a%16){case 0:return b+d;case 1:return-b+d;case 2:return b-d;case 3:return-b-d;case 4:return b+c;case 5:return-b+c;case 6:return b-c;case 7:return-b-c;case 8:return d+c;case 9:return-d+c;case 10:return d-c;case 11:return-d-c;case 12:return b+d;case 13:return-d+c;case 14:return-b+d;case 15:return-d-c;default:return 0}}
function ra(){for(var a=Array(256),b=0;b<a.length;++b)a[b]=b;for(b=a.length-1;0<b;--b){var d=Math.floor(Math.random()*a.length),c=a[b];a[b]=a[d];a[d]=c}this.g=a.concat(a)}
function R(a,b,d,c){var f=b&255,e=d&255,g=c&255;b-=Math.floor(b);d-=Math.floor(d);c-=Math.floor(c);var k=P(b),h=P(d);a=a.g;return M(M(M(Q(a[a[a[f]+e]+g],b,d,c),Q(a[a[a[f+1]+e]+g],b-1,d,c),k),M(Q(a[a[a[f]+e+1]+g],b,d-1,c),Q(a[a[a[f+1]+e+1]+g],b-1,d-1,c),k),h),M(M(Q(a[a[a[f]+e]+g+1],b,d,c-1),Q(a[a[a[f+1]+e]+g+1],b-1,d,c-1),k),M(Q(a[a[a[f]+e+1]+g+1],b,d-1,c-1),Q(a[a[a[f+1]+e+1]+g+1],b-1,d-1,c-1),k),h),P(c))};function S(a){this.j=a;this.i=[];this.length=this.g=0}S.prototype.get=function(a){return this.i[(a+this.g)%this.length]};var sa=2*Math.PI;function T(a,b){return a+Math.random()*(b-a)}
function ta(a,b){this.j=[];this.g=b;this.i=a.getContext("2d");this.Aa=window.devicePixelRatio;this.Ca=1;this.Da=[];this.Ea=[];if("image"!=this.g.oa.shape)a=null;else if((a=this.g.oa.Ra)&&0!=a.length){b=[];this.Ca=this.g.na.max*this.Aa;for(var d=0;d<a.length;d++){var c=a[d],f=document.createElement("canvas"),e=f.getContext("2d"),g=this.Ca/Math.max(c.naturalWidth,c.naturalHeight),k=c.naturalWidth*g;g*=c.naturalHeight;f.width=Math.ceil(k);f.height=Math.ceil(g);e.drawImage(c,0,0,k,g);b.push(f);this.Da.push(-k/
2);this.Ea.push(-g/2)}a=b}else this.g.oa.shape="square",a=null;this.Ba=a;this.o=0;this.Ma=0==this.g.m?this.g.ya:1/this.g.m;a=this.g.fa;this.wa=a.ia?0:(a.la-a.ua)*a.za;this.va=a.ia?0:(a.ka-a.ta)*a.za;this.A=a.ia?0:(a.ja-a.sa)*a.za;this.qa=(a=this.g.Ha)?new ra:null;this.ra=a?a.frequency:1;this.Na=a?a.Ta:1;this.Fa=a&&a.Ua-1||0;for(a=0;a<this.g.Ga;a++)U(this)}
function V(a){var b=T(a.g.ma.Ja,a.g.ma.Ia),d=T(a.g.ma.La,a.g.ma.Ka),c=T(a.g.na.min,a.g.na.max),f=T(a.g.xa.min,a.g.xa.max),e=a.g.fa,g=e.ua,k=e.ta,h=e.sa;e.ia&&(h=Math.random(),g=(1-h)*e.ua+h*e.la,k=(1-h)*e.ta+h*e.ka,h=(1-h)*e.sa+h*e.ja);var n=T(a.g.pa.u,a.g.pa.s);e=T(a.g.pa.Pa,a.g.pa.Oa);var z=n*Math.cos(e);n*=Math.sin(e);var y=-1;a.Ba&&(y=Math.floor(T(0,a.Ba.length)));return{h:{positionX:b,positionY:d,size:c,ca:g,ba:k,aa:h,opacity:f,ga:!0,angle:e,ha:y},velocityX:z,velocityY:n,l:a.Na,ea:a.Fa?new S(a.Fa):
null}}
function U(a){for(var b=Date.now()/a.ra,d=0;d<a.j.length;d++){var c=a.j[d],f=a;if(c.ea){var e=c.ea,g={positionX:c.h.positionX,positionY:c.h.positionY,size:c.h.size,ca:c.h.ca,ba:c.h.ba,aa:c.h.aa,opacity:c.h.opacity,angle:c.h.angle,ha:c.h.ha,ga:c.h.ga};e.length<e.j&&e.length++;e.i[e.g]=g;e.g=(e.g+1)%e.j}c.h.ga&&(c.h.positionX+=c.velocityX,c.h.positionY+=c.velocityY,f.qa&&0<c.l&&(e=c.h.positionX/f.ra,g=c.h.positionY/f.ra,c.h.positionX+=c.l*R(f.qa,e,g,b),c.h.positionY+=c.l*R(f.qa,b,e,g),c.l+=f.g.Ha.rate),c.h.size+=
f.g.na.rate,c.h.opacity=Math.min(1,c.h.opacity+f.g.xa.rate),c.velocityX+=f.g.acceleration.x,c.velocityY+=f.g.acceleration.y,c.h.angle=Math.atan2(c.velocityY,c.velocityX),e=f.g.fa,e.ia||((!f.wa||1<(e.la-c.h.ca)/f.wa)&&(!f.va||1<(e.ka-c.h.ba)/f.va)&&(!f.A||1<(e.ja-c.h.aa)/f.A)?(c.h.ca+=f.wa,c.h.ba+=f.va,c.h.aa+=f.A):(c.h.ca=f.g.fa.la,c.h.ba=f.g.fa.ka,c.h.aa=f.g.fa.ja)));if(0>c.h.positionX+c.h.size||c.h.positionX-c.h.size>a.g.width||0>c.h.positionY+c.h.size||c.h.positionY-c.h.size>a.g.height||0>c.h.opacity||
0>c.h.size)a.g.Sa?(c=c.ea,a.j[d]=V(a),a.j[d].ea=c):c.h.ga=!1}if(a.j.length<a.g.ya)for(a.o=Math.min(a.o+a.Ma,a.g.ya),b=Math.floor(a.o)-a.j.length,d=0;d<b;d++)a.j.push(V(a))}
function ua(a,b){if(b.ga){a.i.fillStyle="rgba("+Math.round(b.ca)+", "+Math.round(b.ba)+", "+Math.round(b.aa)+", "+b.opacity+")";a.i.save();a.i.translate(b.positionX,b.positionY);var d=b.size/a.Ca;a.i.scale(d,d);switch(a.g.oa.shape){case "circle":a.i.beginPath();a.i.arc(0,0,.5,0,sa);a.i.fill();break;case "line":a.i.beginPath();a.i.rotate(b.angle);a.i.fillRect(-.5,-.01,1,.02);break;case "teardrop":a.i.beginPath();a.i.moveTo(.08,-.5);a.i.bezierCurveTo(.13,-.21,.16,.04,.3,.07);a.i.bezierCurveTo(.44,.36,
.13,.5,-.06,.5);a.i.bezierCurveTo(-.49,.14,-.41,0,.08,-.5);a.i.fill();break;case "image":a.i.globalAlpha=b.opacity;a.i.drawImage(a.Ba[b.ha],a.Da[b.ha],a.Ea[b.ha]);break;default:a.i.beginPath(),a.i.fillRect(-.5,-.5,1,1)}a.i.restore()}};function va(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")}function wa(a){if(va(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&va(a))return a;return null}function xa(a){return(a=D(a,"sprite-image-src",""))?a.split(",").map(function(b){return b.trim()}):[]};function ya(a,b){var d=void 0===d?null:d;var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!0,!0,d);b.dispatchEvent(c)};var za={Va:"acceleration-x",Wa:"acceleration-y",Xa:"angle-max",Ya:"angle-min",Za:"autoplay",$a:"color1",ab:"color2",bb:"color-rate",cb:"custom-preset",eb:"emit-interval",fb:"emit-x-max",gb:"emit-x-min",hb:"emit-y-max",ib:"emit-y-min",jb:"loop",kb:"number",lb:"opacity-max",mb:"opacity-min",nb:"opacity-rate",ob:"preset-type",pb:"random-colors",qb:"shape",rb:"size-max",sb:"size-min",tb:"size-rate",ub:"skip-forward",vb:"speed-max",wb:"speed-min",xb:"sprite-image-src",yb:"turbulence-frequency",zb:"turbulence-rate",
Ab:"turbulence-strength",Bb:"turbulence-trail"},Aa=[],Ba=0,Ca;for(Ca in za)Aa[Ba++]=za[Ca];function W(){var a=HTMLElement.call(this)||this;a.g=null;a.j=0;a.i=[];a.o=a.Qa.bind(a);a.A=2;return a}var X=HTMLElement;W.prototype=aa(X.prototype);W.prototype.constructor=W;if(w)w(W,X);else for(var Y in X)if("prototype"!=Y)if(Object.defineProperties){var Da=Object.getOwnPropertyDescriptor(X,Y);Da&&Object.defineProperty(W,Y,Da)}else W[Y]=X[Y];l=W.prototype;l.attributeChangedCallback=function(){this.reset()};
l.connectedCallback=function(){if(!this.gwdIsLoaded()){var a=wa(this);a?a.gwdIsLoaded()&&this.gwdLoad():this.gwdLoad()}};l.disconnectedCallback=function(){Z(this);this.g=null};l.gwdLoad=function(){if(!this.g){Z(this);var a=xa(this);if(this.j=a.length)for(var b=0;b<this.j;b++){var d=this.ownerDocument.createElement("img");d.addEventListener("load",this.o,!1);d.addEventListener("error",this.o,!1);d.src=a[b];this.i.push(d)}0===this.j&&Ea(this)}};l.gwdIsLoaded=function(){return!!this.g};
function Z(a){for(;a.i.length;){var b=a.i.pop();b.removeEventListener("load",a.o,!1);b.removeEventListener("error",a.o,!1)}a.j=0}
function Ea(a){var b=a.getAttribute("preset-type"),d=a.i.length?a.i:null;if(a.parentElement){var c=a.parentElement.getElementsByTagName("canvas")[0];if(c){var f=a.parentElement.clientWidth,e=a.parentElement.clientHeight;b=qa(b);var g=H(b.L,f),k=H(b.K,f),h=H(b.N,e),n=H(b.M,e);g=L(a,"emit-x-min","emit-x-max",g,k,f);h=L(a,"emit-y-min","emit-y-max",h,n,e);h={Ja:g[0],Ia:g[1],La:h[0],Ka:h[1]};n=b.O;b.v&&(n=Math.ceil(b.v*(h.Ia-h.Ja)*(h.Ka-h.La)));n=Math.min(B(a,"number",n),1E3);g=B(a,"emit-interval",b.m);
k=b.Y;var z=x(a,"skip-forward",k);k=Math.round((0<=z?z:k)*Math.min(Math.max(n*g,I[0]),I[1])/100);z=E(a,"loop",b.loop);var y=K(a,"size-min","size-max",b.W,b.V),A=C(a,"size-rate",b.X)/60;y={min:y[0],max:y[1],rate:A};A=K(a,"opacity-min","opacity-max",b.R,b.P);var u=C(a,"opacity-rate",b.S)/60;A={min:A[0],max:A[1],rate:u};u=D(a,"color1",b.H);var r=D(a,"color2",b.I);u=J(u);r=J(r);var m=E(a,"random-colors",b.T),p=C(a,"color-rate",b.J)/60;u={ia:m,ua:u[0],ta:u[1],sa:u[2],la:r[0],ka:r[1],ja:r[2],za:p};r=K(a,
"speed-min","speed-max",b.u,b.s);m=K(a,"angle-min","angle-max",b.G,b.F);m[0]=-m[0];m[1]=-m[1];r={u:r[0],s:r[1],Pa:m[1]/180*Math.PI,Oa:m[0]/180*Math.PI};m=C(a,"acceleration-x",b.C)/60;p=C(a,"acceleration-y",b.D)/60;m={x:m,y:p};p=D(a,"shape",b.shape);d={shape:p,Ra:"image"==p?d:null};p=a.hasAttribute("turbulence-frequency");var G=a.hasAttribute("turbulence-strength"),N=a.hasAttribute("turbulence-rate"),O=a.hasAttribute("turbulence-trail");b.U||p||G||N||O?(p=C(a,"turbulence-frequency",b.B),G=C(a,"turbulence-strength",
b.l),N=C(a,"turbulence-rate",b.Z)/60,O=Math.min(B(a,"turbulence-trail",b.$),100),b={frequency:0<p?p:b.B,Ta:0<G?G:b.l,rate:N,Ua:O}):b=null;a.g=new ta(c,{width:f,height:e,ya:n,m:g,Ga:k,ma:h,na:y,xa:A,fa:u,pa:r,acceleration:m,Sa:z,oa:d,Ha:b});ya("ready",a)}}}l.Qa=function(a){var b=a.target;b.removeEventListener("load",this.o,!1);b.removeEventListener("error",this.o,!1);b=this.i.indexOf(b);0<=b&&("error"===a.type&&this.i.splice(b,1),this.j--);0===this.j&&Ea(this)};
l.updateAndDraw=function(){0===this.A&&U(this.g);if(2!=this.A){var a=this.g;a.i.save();a.i.scale(a.Aa,a.Aa);for(var b=0;b<a.j.length;b++){var d=a.j[b];if(d.ea)for(var c=0;c<d.ea.length;c++)ua(a,d.ea.get(c));ua(a,d.h)}a.i.restore()}};l.play=function(){this.A=0};l.pause=function(){this.A=1};l.stop=function(){this.A=2;var a=this.g;a.j.length=0;for(var b=a.o=0;b<a.g.Ga;b++)U(a)};l.reset=function(){Z(this);this.g=null;ya("request-reload",this)};
ca.Object.defineProperties(W,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return Aa}}});customElements.define("gwd-particles",W);}).call(this);
